<div class="add-course-page">
  <mat-card class="add-course-page__card" *ngIf="loaded">
    <mat-card-header>
      <mat-card-title>{{pageTitle}}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form class="add-course-page__card--form" [formGroup]="addCourseForm" (ngSubmit)="handleSave()">
        <mat-form-field class="example-full-width" appearance="outline">
          <mat-label [translate]="'COURSE-TITLE'"></mat-label>
          <input matInput #title placeholder="Course title" formControlName="title" [errorStateMatcher]="matcher"
            (input)="handleTitleInput(title.value)">
          <mat-hint [translate]="'COURSE-TITLE-HINT'"></mat-hint>
          <mat-error
            *ngIf="addCourseForm?.controls?.title?.hasError('maxlength') && !addCourseForm?.controls?.title?.hasError('required')"
            [translate]="'COURSE-TITLE-ERROR'">
          </mat-error>
          <mat-error *ngIf="addCourseForm?.controls?.title?.hasError('required')" [translate]="'COURSE-TITLE-REQUIRED'">
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="outline">
          <mat-label [translate]="'COURSE-DESCRIPTION'"></mat-label>
          <textarea matInput #description formControlName="description"
            (input)="handleDescriptionInput(description.value)" placeholder="Course description..."
            [errorStateMatcher]="matcher"></textarea>
          <mat-hint [translate]="'COURSE-DESCRIPTION-HINT'">Enter video description</mat-hint>
          <mat-error
            *ngIf="addCourseForm?.controls?.description?.hasError('maxlength') && !addCourseForm?.controls?.description?.hasError('required')"
            [translate]="'COURSE-DESCRIPTION-ERROR'">
          </mat-error>
          <mat-error *ngIf="addCourseForm?.controls?.title?.hasError('required')" [translate]="'COURSE-DESCRIPTION-REQUIRED'">
            Description is <strong>required</strong>
          </mat-error>
        </mat-form-field>
        <app-date-input formControlName="creationDate" [name]="addCourseForm?.controls?.creationDate"
          [errorStateMatcher]="matcher"></app-date-input>
        <app-duration-input formControlName="duration" [name]="addCourseForm?.controls?.duration"
          [errorStateMatcher]="matcher"></app-duration-input>
        <app-authors-input formControlName="authors" [name]="addCourseForm?.controls?.authors"
          [errorStateMatcher]="matcher"></app-authors-input>
      </form>
    </mat-card-content>
    <mat-card-actions class="add-course-page__card--buttons_block">
      <button mat-raised-button color="primary" type="submit" (click)="handleSave()"
        [disabled]="!addCourseForm.valid"><span [translate]="'COURSE-SAVE'"></span></button>
      <button mat-raised-button color="primary" (click)="handleCancel()"><span [translate]="'COURSE-CANCEL'"></span></button>
    </mat-card-actions>
  </mat-card>
</div>
