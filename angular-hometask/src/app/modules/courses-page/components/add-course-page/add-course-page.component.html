<div class="add-course-page">
  <mat-card class="add-course-page__card" *ngIf="loaded">
    <mat-card-header>
      <mat-card-title [translate]="'COURSE_PAGE_TITLE'" [translateParams]="translateParams"></mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form class="add-course-page__card--form" [formGroup]="addCourseForm" (ngSubmit)="handleSave()">
        <mat-form-field class="example-full-width" appearance="outline">
          <mat-label [translate]="'COURSE_TITLE'"></mat-label>
          <input class="title-input" matInput #title placeholder="Course title" formControlName="title" [errorStateMatcher]="matcher"
            (input)="handleTitleInput(title.value)">
          <mat-hint [translate]="'COURSE_TITLE_HINT'"></mat-hint>
          <mat-error
            *ngIf="addCourseForm?.controls?.title?.hasError('maxlength') && !addCourseForm?.controls?.title?.hasError('required')"
            [translate]="'COURSE_TITLE_ERROR'">
          </mat-error>
          <mat-error *ngIf="addCourseForm?.controls?.title?.hasError('required')" [translate]="'COURSE_TITLE_REQUIRED'">
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width" appearance="outline">
          <mat-label [translate]="'COURSE_DESCRIPTION'"></mat-label>
          <textarea class="description-input" matInput #description formControlName="description"
            (input)="handleDescriptionInput(description.value)" placeholder="Course description..."
            [errorStateMatcher]="matcher"></textarea>
          <mat-hint [translate]="'COURSE_DESCRIPTION_HINT'"></mat-hint>
          <mat-error
            *ngIf="addCourseForm?.controls?.description?.hasError('maxlength') && !addCourseForm?.controls?.description?.hasError('required')"
            [translate]="'COURSE_DESCRIPTION_ERROR'">
          </mat-error>
          <mat-error *ngIf="addCourseForm?.controls?.title?.hasError('required')" [translate]="'COURSE_DESCRIPTION_REQUIRED'">
          </mat-error>
        </mat-form-field>
        <app-date-input formControlName="creationDate" [name]="addCourseForm?.controls?.creationDate"
          [errorStateMatcher]="matcher"></app-date-input>
        <app-duration-input formControlName="duration" [name]="addCourseForm?.controls?.duration"
          [errorStateMatcher]="matcher"></app-duration-input>
        <app-authors-input formControlName="authors" [name]="addCourseForm?.controls?.authors"
          [errorStateMatcher]="matcher"></app-authors-input>
      </form>
    </mat-card-content>
    <mat-card-actions class="add-course-page__card--buttons_block">
      <button mat-raised-button class="submit-button" color="primary" type="submit" (click)="handleSave()"
        [disabled]="!addCourseForm.valid"><span [translate]="'COURSE_SAVE'"></span></button>
      <button mat-raised-button class="cancel-button" color="primary" (click)="handleCancel()"><span [translate]="'COURSE_CANCEL'"></span></button>
    </mat-card-actions>
  </mat-card>
</div>
